<nz-layout>
  <nz-sider
    nzCollapsible
    [(nzCollapsed)]="isCollapsed"
    [nzTrigger]="triggerTemplate"
  >
    <div class="logo"></div>
    <ul nz-menu nzMode="inline" 
    [nzTheme]="'dark'">
      <ng-container *ngTemplateOutlet="menuTpl; context: { $implicit: menus }"></ng-container>
      <ng-template #menuTpl let-menus>
        <ng-container *ngFor="let menu of menus">
          <li
            *ngIf="!menu.children || menu.children.length <= 0"
            nz-menu-item
            [nzDisabled]="menu.disabled"
            [nzSelected]="menu.selected"
          >
            <span nz-icon [nzType]="menu.icon" *ngIf="menu.icon"></span>
            <a [routerLink]="[menu.path]"> {{menu.menuName}} </a>
          </li>
          <li
            *ngIf="menu.children && menu.children.length > 0"
            nz-submenu
            [nzOpen]="menu.open"
            [nzTitle]="menu.menuName"
            [nzIcon]="menu.icon"
            [nzDisabled]="menu.disabled"
          >
            <ul>
              <ng-container *ngTemplateOutlet="menuTpl; context: { $implicit: menu.children }"></ng-container>
            </ul>
          </li>
        </ng-container>
      </ng-template>
      <li nz-menu-item *ngIf="userName !== ''">
        <span nz-icon nzType="minus" nzTheme="outline"></span>
      </li>
      <li nz-menu-item *ngIf="userName !== ''">
        <span (click)="onLogout()">
          <span nz-icon nzType="user" nzTheme="outline"></span>
          <span class="outline">登出 {{ userName }}</span>
        </span>
      </li>
    </ul>
  </nz-sider>
  <nz-layout>
    <nz-header [ngClass]="navClass">
      <i
        class="anticon trigger"
        nz-icon
        [nzType]="isCollapsed ? 'menu-unfold' : 'menu-fold'"
        (click)="isCollapsed = !isCollapsed"
      ></i>
      <div style="font-weight: bolder; font-size: 18px; text-align: center;">鹽水數位供應鏈管理<label *ngIf = "envName != '正式環境'">{{ envName }}</label></div> 
      <img
        src="data:image/png;base64,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"
        alt=""
        id="walsinLogo"
      />
    </nz-header>

    <!-- router outlet area -->
    <div class="router-outlet-area">
      <nz-tabset 
        [nzSelectedIndex]="activeTabIndex"
        nzType="editable-card"
        [nzHideAdd]="true"
        (nzClose)="closeTab($event)">
        <nz-tab [nzClosable]="tabsSourceData.length > 1" *ngFor="let tab of tabsSourceData" [nzTitle]="tab.pageName" (nzClick)="goPage(tab)" >
        </nz-tab>
      </nz-tabset>

      <router-outlet
        (activate)="componentAdded($event)"
        (deactivate)="componentRemoved($event)"
      ></router-outlet>
    </div>

    <nz-footer style="text-align: center; padding: 8px">
      Copyright © Walsin Lihwa Corp. All Rights Reserved.
    </nz-footer>
  </nz-layout>
</nz-layout>
<app-inactivity-timer></app-inactivity-timer>
<ng-template #trigger>
  <i class="anticon anticon-up"></i>
</ng-template>
